---
tags: [Vela Gaming, Common Wallet]
---

![Vela Gaming](../../assets/images/vela_gaming/logo.jpg)

# Common Wallet 单一钱包

## Overview 概述

This document describes the service integration between **Gaming (provider)** and an **operator**. The following chapters describe the general concept of integration as well as descriptions and examples of the API methods used for the service integration.<b>
文档介绍了游戏供应商和对接第三方之间的技术接口细节。以下描述了游戏和第三方的一般概念，以及运用接口的描述和示例。</b>

### General Notes 一般注意事项

- Data Format : JSON (JavaScript Object Notation)<br>数据格式: JSON (JavaScript Object Notation)
<space>

- Wallet Option: Separate Wallet<br>电子钱包选项 : 转账钱包
<space>

- Operator - Referred as the operator<br>第三方 - 被称为运营商或第三方。
<space>

- Provider - Referred as the game provider<br>游戏供应商 - 被称为游戏供应商。
<space>

- Host ID - This Host ID is an unique token generated from game provider for each game operator<br>Host ID - Host ID是游戏供应商为每个第三方提供的唯一令牌。
<space>

- Points - Referred as the game points; not player's actual wallet balance<br>Points - Points是游戏点数；不是玩家的实际钱包余额。
<space>

- The provider manages the user account database (personal information, balance, wallet operations, etc.)<br>游戏供应商管理用户帐户数据库(个人资料, 余额, 钱包操作等。)
<space>

- All methods support uses **HTTPS GET** verb in the system.<br>全部请求内容必须使用 **HTTPS GET** 调用。
<space>

- Players perform all betting and gaming by using VG Game Server's wallet system. Therefore, **operator** need to integrate VG API.<br>玩家使用VG Game Server的钱包系统执行所有投注和游戏。 因此，第三方需要连接VG API。
<space>




### Getting started 游戏接入规范

To be able to connect to our game server, **operator** needs to provide the following API for us to communicate between game server and operator site. Players perform all betting and gaming by using operator's own wallet system.<b>
为了能够连接到我们的VG游戏服务器。 **第三方**需要提供以下API给我们在游戏服务器和第三方之间进行链接。玩家使用VG Game Server的钱包系统执行所有投注和游戏。</b>

- [Authenticate 认证 (O)](#authenticate-认证)
- [Bet 下注 (O)](#bet-下注)
- [Result 成绩 (O)](#result-成绩)
- [Refund Bet 退款 (O)](#refund-bet-退款)
- [Bet and Win 下注赢利 (O)](#bet-and-win-下注赢利)
- [Game List 游戏列表](#game-list-游戏列表)
- [Game Launch 游戏启动](#game-launch-游戏启动)
- [User Report 玩家报表](#user-report-玩家报表)
- [Claim Rebate 索取回扣](#claim-rebate-索取回扣)
- [Player Balance 玩家余额](#player-balance-玩家余额)
- [Player Rebate Transaction 玩家返利列表](#player-rebate-transaction-玩家返利列表)
- [Player Rebate Balance 玩家返利余额](#player-rebate-balance-玩家返利余额)

\*\*(O) is referred to API that is required to be develop by operator.
<b> \*\*(O) 是指第三方必须开发的API。</b>

### Game Launch Process 游戏启动流程

- When a player launches the game, it will call the **Operator's Authenticate** API.
- 当玩家启动游戏时，将调用**第三方 Authenticate** API.
<br>
- Operator needs to provide us the **Authenticate** API.
- 第三方需要向我们提供 **Authenticate** API。
<br>
- The **Authenticate** API is used by VG Game Server to retrieve players' information from the operator.
- VG 游戏服务器使用 **Authenticate** API 来检索第三方玩家的信息。
<br>
- Authenticate API is called upon launching the game for the logged-in player.
- 已登录玩家启动游戏时会调用Authenticate API。
<br>
![Diagram](../../assets/images/vela_gaming/game_launch_diagram.jpg)

---

## API 游戏程序接口参考

### Authenticate 认证

Authenticate API is called upon launching the game for the logged-in player. **Operator needs to implement this API for user verification**.<b>
已登录玩家启动游戏时会调用Authenticate API。**第三方需要实施此API进行用户验证。**</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称    | Type 类型   | Description 介绍                                                                     |
| ------------ | ------ | ------------------------------------------------------------------------------ |
| access_token | string | The access token is generated by operator system for the player’s session. <b>玩家在第三方系统内的访问令牌</b>  |
| game_code    | string | Game code is referred to [Game List](#game-list-游戏列表) API<b>游戏代码可参考[游戏列表](#game-list-游戏列表) API</b>                                                                      |

> ##### Example 例子
>
> <https://{OPERATOR_API_ENDPOINT}/api/user/authenticate?access_token={access_token}&game_code=fish>

### Response 响应

| Name   名称     | Type  类型 | Description   介绍                                                                          |
| ----------- | ------ | --------------------------------------------------------------------------------------- |
| status_code | int    | Response status code<b>响应状态代码</b>                                                                    |
| member_id   | string | Unique ID of the player<b>玩家唯一ID</b>                                                                 |
| balance     | uint64 | Current **Balance** of the player (in cents)<b>玩家现有的点数 (进位两位数，分钱)</b>                                            |
| currency    | string | Currency code is referred to ISO 4217<b>货币代码可参考ISO 4217</b>                                                                          |

#### Status Code 状态代码

| Code 代码 | Description 介绍  |
| ---- | ------------- |
| 0    | Success<b>成功</b>       |
| 1    | Invalid Token<b>访问令牌无效</b> |

<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子

```json
{
  "status_code": 0,
  "member_id": "demo01",
  "balance": 100000,
  "currency": "MYR"
}
```

### Sample Error Response 错误响应例子

```json
{
  "status_code": 1,
  "message": "Invalid Token"
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://{OPERATOR_API_ENDPOINT}/api/user/authenticate",
  "query": {
    "access_token": "{access_token}",
    "game_code": "fish"
  }
}
```


<!-- type: tab-end -->

---

### Bet 下注

When the game places a bet, it will call  **Operator's API** to deduct player's wallet. **Operator needs to implement this API for betting operation**.<b>
当玩家下注时，游戏会调用**第三方API**来扣除玩家的钱包。**第三方需要实施此API进行投注操作。**</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name   名称      | Type 类型  | Description   介绍                                                                 |
| ------------ | ------ | ------------------------------------------------------------------------------ |
| access_token | string | The access token is generated by operator system for the player's session.<b>玩家在第三方系统内的访问令牌。</b>
 |
| ticket_id    | uint64 | Unique ID of the transaction on the Operator side.<b>第三方交易的唯一ID。</b>                             |
| total_bet    | uint64 | Total betting **POINTS** (in Cents)<b>总下注**点数**(进位两位数，分钱）</b>                                            |
| key          | string | Bet type of the betting trade<b>下注交易的下注类型</b>                                                  |
| game_code    | string | Game code is referred to [Game List](#game-list)API<b>游戏代码可参考[游戏列表](#game-list-游戏列表) API</b>                                                        |

> ##### Example 例子
>
> <https://{OPERATOR_API_ENDPOINT}/api/bet?access_token={access_token}&ticket_id={ticket_id}&total_bet={total_bet}&key={key}&game_code={game_code}>

### Response 响应

| Name 名称       | Type 类型  | Description  介绍                                                                          |
| ----------- | ------ | -------------------------------------------------------------------------------------- |
| status_code | int    | Response status code<b>响应状态代码</b>                                                                   |
| balance     | uint64 | Current **POINTS** of the player (in cents)<b>玩家现有的**点数**(进位两位数，分钱)</b>                                            |

#### Status Code 状态代码

| Code 代码 | Description 介绍           |
| ---- | ---------------------- |
| 0    | Success<b>成功</b>                |
| 1    | Invalid Token<b>访问令牌无效</b>          |
| 2    | Invalid Transaction ID<b>交易单号无效</b> |
| 3    | Insufficient Funds<b>资金不足</b>     |

<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子

```json
{
  "status_code": 0,
  "balance": 100000
}
```

### Sample Error Response 错误响应例子

```json
{
  "status_code": 1,
  "message": "Invalid token"
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://{OPERATOR_API_ENDPOINT}/api/bet",
  "query": {
    "access_token": "{access_token}",
    "ticket_id": "{ticket_id}",
    "total_bet": 10000,
    "key": "{key}",
    "game_code": "{game_code}"
  }
}
```

<!-- type: tab-end -->

### Result 成绩

When the game provider has the result return, it will call Result API. This  API will be called despite a winning bet or losing bet. If it’s a losing bet, the total win is return as 0. Otherwise, the total win amount will be returned. **Operator needs to implement this API for each bet result**.<b>
当游戏供应商返回结果时，它将调用Result API。无论赢还是输，都会调用此API。如果是下注，则总赢数将返回0。否则，将返回总赢金额。**第三方需要针对每个下注结果实施此API**。</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name  名称       | Type  类型 | Description  介绍                                                                                                                                                                                                                                                                      |
| ------------ | ------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| access_token | string | The access token is generated by operator system for the player's session.<b>玩家在第三方系统内的访问令牌。</b>                                                                                                                                                                                                     |
| ticket_id    | uint64 | Unique ID of the transaction on the Operator side.<b>第三方交易的唯一ID。</b>                                                                                                                                                                                                                                 |
| total_win    | uint64 | Total winning **POINTS** (in Cents)<b>总赢**点数**（进位两位数，分钱）</b>                                                                                                                                                                                                                                                |
| game_code    | string | Game code is referred to [Game List](#game-list) API<b>游戏代码可参考[游戏列表](#game-list-游戏列表)API </b>                                                                                                                                                                                                                                                         |
| total_used   | uint64 | (Optional) _This is an additional parameter that will only present in action games (i.e. Blue Ocean, Safari Hunter, and Bird of Paradise)._<b>(选择性)_这是一个仅在动作游戏中显示的附加参数（例如，蓝海龙王，黄金猎人和捕鸟天堂）。_ </b> <br>Total **POINTS** used (in Cents) in action games.<b>动作游戏中使用的总**点数**(进位两位数，分钱）。</b> <br> This field records how much credit a player has used in the action game. <b>这些记录玩家在动作游戏中使用了多少钱币。</b>|

> ##### Example 例子
>
> <https://{OPERATOR_API_ENDPOINT}/api/result?access_token={access_token}&ticket_id={ticket_id}&total_win={total_win}&game_code={game_code}>

### Response 响应

| Name  名称      | Type 类型  | Description  介绍                                                                          |
| ----------- | ------ | -------------------------------------------------------------------------------------- |
| status_code | int    | Response status code <b>响应状态代码</b>                                                                  |
| balance     | uint64 | Current **POINTS** of the player (in cents)<b>玩家现有的**点数** (进位两位数，分钱)</b>                                            |

#### Status Code 状态代码


| Code 代码 | Description  介绍          |
| ---- | ---------------------- |
| 0    | Success <b>成功</b>               |
| 1    | Invalid Token <b>访问令牌无效</b>          |
| 2    | Invalid Transaction ID <b>交易单号无效</b> |

<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子

```json
{
  "status_code": 0,
  "balance": 100000
}
```

### Sample Error Response 错误响应例子

```json
{
  "status_code": 1,
  "message": "Invalid token"
}
```

<!--
type: tab
title: Try It 尝试

-->

```json http
{
  "method": "get",
  "url": "https://{OPERATOR_API_ENDPOINT}/api/result",
  "query": {
    "access_token": "{access_token}",
    "ticket_id": "{ticket_id}",
    "total_win": 10000,
    "game_code": "{game_code}"
  }
}
```

<!-- type: tab-end -->

### Refund Bet 退回下注

This API is called to cancel the latest Bet if system error occurred. **Operator needs to implement this API for refund purpose**.<b>如果发生系统错误，则调用此API来取消最新的下注。第三方需要实施此API以进行退款。</b>


<!--
type: tab
title: Docs 文件
-->

### Request 响应

| Name 名称        | Type 类型  | Description 介绍                                                                   |
| ------------ | ------ | ------------------------------------------------------------------------------ |
| access_token | string | The access token is generated by operator system for the player's session.<b>玩家在第三方系统内的访问令牌。</b> |
| ticket_id    | uint64 | Unique ID of the transaction on the Operator side.<b>第三方交易的唯一ID。</b>                             |
| game_code    | string | Game code is referred to [Game List](#game-list) API <b>游戏代码可参考 [游戏列表](#game-list-游戏列表)API</b>                                                    |

> ##### Example 例子
>
> <https://{OPERATOR_API_ENDPOINT}/api/refund?access_token={access_token}&ticket_id={ticket_id}&game_code={game_code}>

### Response 响应

| Name 名称       | Type  类型  | Description 介绍                                                                           |
| ----------- | ------ | -------------------------------------------------------------------------------------- |
| status_code | int    | Response status code<b>响应状态代码</b>                                                                   |
| balance     | uint64 | Current **POINTS** of the player (in cents)<b>玩家现有的**点数** (进位两位数，分钱)</b>                                            |

#### Status Code 状态代码 

| Code 代码 | Description 介绍           |
| ---- | ---------------------- |
| 0    | Success <b>成功</b>               |
| 1    | Invalid Token <b>访问令牌无效</b>         |
| 2    | Invalid Transaction ID <b>交易单号无效</b> |

<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子

```json
{
  "status_code": 0,
  "balance": 100000
}
```

### Sample Error Response 错误响应例子

```json
{
  "status_code": 1,
  "message": "Invalid token"
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://{OPERATOR_API_ENDPOINT}/api/refund",
  "query": {
    "access_token": "{access_token}",
    "ticket_id": "{ticket_id}",
    "game_code": "{game_code}"
  }
}
```

<!-- type: tab-end -->

### Bet and Win 下注和赢

This API is used for slot games. The game will call this **Operator API** to deduct or deposit their wallet. **_Operator needs to implement this API for slot games purpose_**.<b>此API用于老虎机游戏。游戏将调用此**Operator API**扣除或存入其钱包。**_第三方需要此API用于老虎机游戏_**。</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称         | Type 类型  | Description 介绍                                                                   |
| ------------ | ------ | ------------------------------------------------------------------------------ |
| access_token | string | The access token is generated by operator system for the player's session.<b>玩家在第三方系统内的访问令牌。</b> |
| ticket_id    | uint64 | Unique ID of the transaction on the Operator side.<b>第三方交易的唯一ID。</b>                             |
| total_bet    | uint64 | Total betting **POINTS** (in Cents)<b>总下注**点数** （进位两位数，分钱）</b>                                            |
| total_win    | uint64 | Total winning **POINTS** (in Cents)<b>总赢**点数** （进位两位数，分钱）</b>                                            |
| game_code    | string | Game code is referred to [Game List](#game-list) API<b>游戏代码可参考[游戏列表](#game-list-游戏列表)API</b>                                                        |

> ##### Example 例子
>
> <https://{OPERATOR_API_ENDPOINT}/api/betwin?access_token={access_token}&ticket_id={ticket_id}&total_bet={total_bet}&total_win={total_win}&game_code={game_code}>

### Response 响应

| Name 名称       | Type  类型  | Description 介绍                                                                           |
| ----------- | ------ | -------------------------------------------------------------------------------------- |
| status_code | int    | Response status code <b>响应状态代码</b>                                                                   |
| balance     | uint64 | Current **POINTS** of the player (in cents) <b>玩家现有的**点数** (进位两位数，分钱)</b>                                           |

#### Status Code 状态代码

| Code 代码 | Description 介绍           |
| ---- | ---------------------- |
| 0    | Success<b>成功</b>                |
| 1    | Invalid Token <b>访问令牌无效</b>          |
| 2    | Invalid Transaction ID <b>交易单号无效</b>|
| 3    | Insufficient Funds<b>资金不足</b>     |

<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子

```json
{
  "status_code": 0,
  "balance": 100000
}
```

### Sample Error Response 错误响应例子

```json
{
  "status_code": 1,
  "message": "Invalid token"
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://{OPERATOR_API_ENDPOINT}/api/betwin",
  "query": {
    "access_token": "{access_token}",
    "ticket_id": "{ticket_id}",
    "total_bet": "{total_bet}",
    "total_win": "{total_win}",
    "game_code": "{game_code}"
  }
}
```

<!-- type: tab-end -->

## Game List 游戏列表 

This api will return game list to operator.<b>这API将游戏列表返回给第三方。</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求 

| Name 名称   | Type 类型  | Description 介绍                                          |
| ------- | ------ | ---------------------------------------------------- |
| host_id | string | Unique ID of Operator System (provided by game provider)<b>第三方的Host ID (游戏供应商提供)</b> |

> ##### Example 例子
>
> <https://{PROVIDER_API_ENDPOINT}/api/user/gamelist?host_id={host_id}>

### Response 响应

| Name 名称       | Type 类型 | Description 介绍         |
| ----------- | ----- | -------------------- |
| status_code | int   | Response status code<b>响应状态代码</b> |
| list        | array | A list of game list<b>游戏列表</b>  |

#### Status Code 状态代码

| Code 代码 | Description 介绍                   |
| ---- | ------------------------------ |
| 0    | Success <b>成功</b>                       |
| 2    | Invalid Host ID <b>Host ID 无效</b>               |
| 2001 | Required field cannot be empty <b>必填字段不能为空</b>|

<!--
type: tab
title: Examples 例子
-->

### Sample Success Response 成功响应例子

```json
{
  "data": {
    "status_code": 0,
    "list": [
      {
        "title": {
          "en": "Blue Ocean",
          "cn": "蓝海龙王"
        },
        "game_id": "shoot-01",
        "game_code": "fish",
        "lobby_group": "shooting",
        "url": "https://shoot-01.velachip.com"
      }
    ]
  }
}
```

### Sample Error Response 错误响应例子

```json
{
  "error": {
    "status_code": 2,
    "message": "Invalid Host ID",
    "retry": null
  }
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://bo-stage.velachip.com/api/user/gamelist",
  "query": {
    "host_id": "{host_id}"
  }
}
```

<!-- type: tab-end -->

## Game Launch 游戏启动

For launching games, please refer to the URL parameters as below. The game URL is referred to [Game List](#game-list) reponse.<b>要启动游戏，请参考以下URL参数.游戏URL可参考游戏列表响应</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称          | Type 类型  | Description 介绍                                                                       |
| -------------- | ------ | ----------------------------------------------------------------------------------- |
| host_id        | string | Unique ID of Operator System (provided by game provider)<b> 第三方的 Host ID (游戏供应商提供)</b>                                |
| access_token   | string | The access token is generated by operator system for the player's session.<b>玩家在第三方系统内的访问令牌。</b>      |
| mode           | string | Game mode<b>游戏模式 </b><br> (singleplayer, multiplayer)<b>(单机版或多人版 ) </b><br> \*\*only required for action game<b>\*\*只适于射击游戏</b>   |
| lang           | string | Language of the game (ch, en)<b>游戏语言(ch, en) </b><br> Default language is en<b>默认语言是en</b>                           |
| allow_vertical | int    | Default is 1<b>默认是1 </b><br> 0 - landscape mode<b>0 - 横向模式 </b><br> 1 - allow vertical mode and landscape mode<b>1 - 允许垂直模式和横向模式</b> |

> If host_id and access_token is not provided, it is treated as **Guest** mode.<b>如果没有提供host_id和access_token，将会被视为游客模式 。</b>

> ##### Example 例子
>
> <https://{GAME_URL}?host_id={host_id}&access_token={access_token}&mode=singleplayer&lang=ch&allow_vertical=1>

<!-- type: tab-end -->

## User Report 玩家报表

This API is called to retrieve the game report from Game Server. **Operator** must maintain the key to keep track log request. For the first time to request log, key = 0. The response return the key value to **operator** for the next log request.<b>游戏供应商内的游戏数据报表，**第三方可**用此接口获得数据。玩家报表会根据 **第三方**所返回的据库索引号 来寻找数据</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称    | Type 类型  | Description 介绍                                         |
| ------- | ------ | ---------------------------------------------------- |
| host_id | string | Unique ID of Operator System (provided by game provider)<b>第三方的Host ID (游戏供应商提供)</b>
 |
| key     | string | Unique database index number<b>数据库索引号</b>                         |
| page_size | int(optional) | Number of records. Maximum 500 <b>记录的数量. 最大值500</b>|

> If key is empty, it will return data from index zero (0).<b>如果没有提供数据库索引号，供数据库索引号将会被视为初始值为 0。</b>
> If page_size is empty, default return 10 records.<b>
如果没有提供page_size,默认返回10个记录</b>


> ##### Example 例子
>
> <https://{PROVIDER_API_ENDPOINT}/api/report?host_id={host_id}&key={key}&page_size={page_size}>

### Response 响应

| Name 名称       | Type 类型 | Description  介绍        |
| ----------- | ----- | -------------------- |
| status_code | int   | Response status code<b>响应状态代码</b> |
| report      | array | A list report<b>报表列表</b>        |

#### Status Code 状态代码

| Code 代码 | Description 介绍    |
| ---- | --------------- |
| 0    | Success<b>成功</b>         |
| 2    | Invalid Host ID<b>Host ID 无效</b> |

#### Report 报表

| Name 名称         | Type 类型  | Description 介绍|
| ------------- | ------ | --------------- |
| id            | int    | Id              |
| ticket_id     | int    | Ticket Id       |
| game_code     | string | Game code is referred to [Game List](#game-list-游戏列表) API       |
| game_group    | string | Game group      |
| username      | string | Player username |
| bet_stake     | double | Bet stake       |
| commission    | double | Commission      |
| bet_info      | array  | Bet info        |
| result_info   | array  | Result info     |
| payout_amount | double | Payout amount   |
| gain_amount   | double | Gain amount     |
| loss_amount   | double | Loss amount     |
| draw_amount   | double | Draw amount     |
| cancel_amount | double | Cancel amount   |
| reject_amount | double | Reject amount   |
| status        | string | Status          |
| report_date   | date   | Report date     |

<!--
type: tab
title: Examples 例子 
-->

### Sample Success Response 成功响应例子

```json
{
    "data": {
        "status_code": 0,
        "report": [
            {
                "id": "1552012",
                "ticket_id": "1493",
                "game_code": "fish",
                "code": "fish",
                "game_group": "shooting",
                "username": "demo1",
                "bet_stake": 2.7,
                "commission": 0,
                "bet_info": [
                    {
                        "payout": [
                            {
                                "type": 0,
                                "multiplier": 2,
                                "bullet_type": 0,
                                "bullet_cost": 0.1,
                                "total_gain": 0.2
                            },
                            {
                                "type": 3,
                                "multiplier": 4,
                                "bullet_type": 0,
                                "bullet_cost": 0.1,
                                "total_gain": 0.4
                            },
                            {
                                "type": 3,
                                "multiplier": 4,
                                "bullet_type": 0,
                                "bullet_cost": 0.1,
                                "total_gain": 0.4
                            },
                            {
                                "type": 0,
                                "multiplier": 2,
                                "bullet_type": 0,
                                "bullet_cost": 0.1,
                                "total_gain": 0.2
                            }
                        ],
                        "bullet": "[27,0,0,0,0]",
                        "total_bullet": 27
                    },
                    {
                        "payout": [],
                        "bullet": "[0,0,0,0,0]",
                        "total_bullet": 0
                    },
                    {
                        "payout": [],
                        "bullet": "[0,0,0,0,0]",
                        "total_bullet": 0
                    }
                ],
                "result_info": null,
                "payout_amount": 1.2,
                "gain_amount": 0,
                "loss_amount": 1.5,
                "draw_amount": 0,
                "cancel_amount": 0,
                "reject_amount": 0,
                "before_balance": 2070796.59,
                "after_balance": 2070795.09,
                "data": null,
                "jackpot": null,
                "status": "done",
                "remark": null,
                "report_date": "2022-03-28 15:58:27",
                "report_link": "https://**{PROVIDER_API_ENDPOINT}**/admin/detail-report?game=fish&id=1493&isiframe=true"
            }
        ],
        "key": "1552012",
        "version_key": "1552012"
    }
}
```

### Sample Error Response 错误响应例子

```json
{
  "error": {
    "status_code": 2,
    "message": "Invalid Host ID"
  }
}
```

<!--
type: tab
title: Try It 尝试
-->

```json http
{
  "method": "get",
  "url": "https://bo-stage.velachip.com/api/report",
  "query": {
    "host_id": "{host_id}",
    "key": "{key}"
  }
}
```

<!-- type: tab-end -->

## Lobby Launch 大厅启动

For launching lobby, please refer to the URL parameters as below. <b>要启动大厅，请参考以下URL参数.</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称      | Type 类型   | Description 介绍                                                                          |
| -------------- | ------ | ----------------------------------------------------------------------------------- |
| host_id        | string | Unique ID of Operator System (provided by game provider)<b>第三方的 Host ID (游戏供应商提供)</b>                                |
| access_token   | string | The access token is generated by operator system for the player's session.<b>玩家在第三方系统内的访问令牌.</b>      |

> If host_id and access_token is not provided, it is treated as **Guest** mode.<b>如果没有提供host_id和access_token，将会被视为游客模式 </b>

> ##### Example 例子
>
> https://{Lobby_URL}?host_id={host_id}&access_token={access_token}

<!-- type: tab-end -->

## Claim Rebate 索取回扣

This API is used to claim rebate. Upon called - player can claim money from rebate. Operator needs to implement this API for rebate purposes. <b>此 API 仅用于把资金转入玩家帐户。玩家可以从回扣中索取金钱。第三方需要实施此API以使用此功能。</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称      | Type 类型   | Description 介绍                                                                          |
| -------------- | ------ | ----------------------------------------------------------------------------------- |
| host_id        | string | Unique ID of Operator System (provided by game provider) <b>第三方的 Host ID (游戏供应商提供)</b>                                |
| member_id      | string | Unique ID of the player<b> 玩家唯一ID</b>      |
| amount         | uint64 | Amount to claim rebate<b> 申请回扣的金额 (进位两位数，分钱)</b>      |

> ##### Example 例子
>
> https://{OPERATOR_API_ENDPOINT}/api/user/claim-rebate?host_id={host_id}&member_id={member_id}&amount={amount}

### Response 响应

| Name 名称         | Type 类型 | Description  介绍        |
| -------------- | -------- | -------------------- |
| status_code    |  int     | 	Response status code<b>响应状态代码</b> |
| member_id      |  string  | 	Unique ID of the player<b>玩家唯一ID</b> |
| balance        |  uint64  | Current **Balance** of the player (in cents)<b>玩家现有的点数 (进位两位数，分钱)</b>        |
| rebate_balance |  uint64  | Current **Rebate Balance** of the player (in cents)<b>玩家现有的回扣点数 (进位两位数，分钱)</b> |
| amount         |  uint64  | Amount to claim rebate (in cents)<b>申请回扣的金额</b> |
| message        |  string  | Message after claim rebate successful<b>领取返利成功后的留言</b> |

#### Status Code 状态代码

| Code 代码 | Description 介绍           |
| ---- | ---------------------- |
| 0    | Success <b>成功</b>                |
| 1    | Invalid Member ID <b>玩家账号无效</b>          |
| 2    | Invalid Host ID <b>Host ID 无效</b>          |
| 3    | Insufficient accumulated rebate balance <b>累计返利余额不足</b>          |

<!--
type: tab
title: Examples 例子 
-->

### Sample Success Response 成功响应例子

```json
{
    "data": {
      "status_code": 0,
      "member_id": "demo04",
      "balance": 116570181,
      "rebate_balance": 49497,
      "amount": 500,
      "message": "Rebate of 500 is successfully claimed"
    }
}
```

### Sample Error Response 错误响应例子

```json
{
  "error": {
    "status_code": 2,
    "message": "Invalid Host ID",
    "retry": null
  }
}
```

<!--
type: tab
title: Try It 尝试
-->
**Staging Environment 测试环境**
<br>

```json http
{
  "method": "get",
  "url": "https://bo-stage.velachip.com/api/user/claim-rebate",
  "query": {
    "host_id": "{host_id}",
    "member_id": "{member_id}",
    "amount": "{amount}"
  }
}
```

<!-- type: tab-end -->

## Player Balance 玩家余额

This API is used to get player balance. Operator needs to implement this API for rebate purposes. <b>此 API 用于获取玩家余额。第三方需要实施此API以使用此功能。</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称      | Type 类型   | Description 介绍                                                                          |
| -------------- | ------ | ----------------------------------------------------------------------------------- |
| host_id        | string | Unique ID of Operator System (provided by game provider)<b>第三方的 Host ID (游戏供应商提供)</b>                                |
| member_id      | string | Unique ID of the player<b>玩家唯一ID</b>      |

> ##### Example 例子
>
> https://{OPERATOR_API_ENDPOINT}/api/user/get-wallet-balance?host_id={host_id}&member_id={member_id}

### Response 响应

| Name 名称         | Type 类型 | Description  介绍        |
| ----------------- | -------- | -------------------- |
| status_code       |  int     | Response status code<b>响应状态代码</b> |
| member_id         |  string  | Unique ID of the player<b>玩家唯一ID</b> |
| rebate_balance    |  uint64  | Current Rebate Balance of the player (in cents) <b>报表列表 (进位两位数，分钱)</b>        |
| balance           |  uint64  | Current Balance of the player (in cents) <b>玩家现有的点数 (进位两位数，分钱)</b> |
| promotion_balance |  uint64  | Current Promotion Balance of the player (in cents) <b>玩家促销现有的点数 (进位两位数，分钱)</b> |
| claim_limit       |  uint64  | Limit that can be claimed for rebate (in cents) <b>可申请回扣的限额 (进位两位数，分钱)</b> |

#### Status Code 状态代码

| Code 代码 | Description 介绍           |
| ---- | ---------------------- |
| 0    | Success <b>成功</b>                |
| 1    | Invalid Member ID <b>玩家账号无效</b>          |
| 2    | Invalid Host ID <b>Host ID 无效</b>          |

<!--
type: tab
title: Examples 例子 
-->

### Sample Success Response 成功响应例子

```json
{
    "data": {
      "status_code": 0,
      "member_id": "demo04",
      "rebate_balance": 49497,
      "balance": 116570182,
      "promotion_balance": 0,
      "claim_limit": 100
    }
}
```

### Sample Error Response 错误响应例子

```json
{
  "error": {
    "status_code": 2,
    "message": "Invalid Host ID",
    "retry": null
  }
}
```

<!--
type: tab
title: Try It 尝试
-->
**Staging Environment 测试环境**
<br>

```json http
{
  "method": "get",
  "url": "https://bo-stage.velachip.com/api/user/get-wallet-balance",
  "query": {
    "host_id": "{host_id}",
    "member_id": "{member_id}"
  }
}
```

<!-- type: tab-end -->

## Player Rebate Transaction 玩家返利列表

This API will list out all of the player rebate transactions. Operator needs to implement this API for rebate purposes. <b>此 API 将列出所有玩家返利交易。第三方需要实施此API以使用此功能。</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称      | Type 类型   | Description 介绍                                                                          |
| -------------- | ------ | ----------------------------------------------------------------------------------- |
| host_id        | string | Unique ID of Operator System (provided by game provider) <b>第三方的 Host ID (游戏供应商提供)</b> |
| member_id      | string(optional) | Unique ID of the player <b>玩家唯一ID</b> |
| start_date | string<br>(optional) | Starting date in the format of YYYY-MM-DD, eg. 2020-02-02. Default value is today’s date |
| end_date | string<br>(optional) | Ending date in the format of YYYY-MM-DD, eg. 2020-02-02. Default value is today’s date |
| start_time | string<br>(optional) | Starting time in the format of HH:MM:SS, eg. 15:09:59. Default value is 00:00:00 |
| end_time | string<br>(optional) | Ending time in the format of HH:MM:SS, eg. 15:09:59. Default value is 23:59:59 |
| page_size | string<br>(optional) | Number of records.<br>记录的数量.
| key | string<br>(optional) | Unique database index number<br>数据库索引号 |

> ##### Example 例子
>
> https://{OPERATOR_API_ENDPOINT}/api/user/player-rebate-transaction?host_id={host_id}&member_id={member_id}

### Response 响应

| Name 名称         | Type 类型 | Description  介绍        |
| -------------- | -------- | -------------------- |
| status_code    |  int     | Response status code<b>响应状态代码</b> |
| report         |  array   | A list report <b>报表列表</b>        |
| key            |  string  | Unique database index number<br>数据库索引号 |

#### Status Code 状态代码

| Code 代码 | Description 介绍           |
| ---- | ---------------------- |
| 0    | Success <b>成功</b>                |
| 2    | Invalid Host ID <b>Host ID 无效</b>          |

<!--
type: tab
title: Examples 例子 
-->

### Sample Success Response 成功响应例子

```json
{
    "data": {
      "status_code": 0,
        "report": [
          {
            "id": "17593",
            "user_id": "2",
            "username": "demo04",
            "transid": "509114",
            "amount": "6.23",
            "before_balance": "1160703.68",
            "after_balance": "1160709.91",
            "created_at": "2022-06-01 18:09:58"
          },
          {
            "id": "17592",
            "user_id": "2",
            "username": "demo04",
            "transid": "509113",
            "amount": "6.23",
            "before_balance": "1160697.45",
            "after_balance": "1160703.68",
            "created_at": "2022-06-01 17:36:22"
          },
          {
            "id": "17591",
            "user_id": "2",
            "username": "demo04",
            "transid": "509112",
            "amount": "49969.31",
            "before_balance": "1110728.14",
            "after_balance": "1160697.45",
            "created_at": "2022-06-01 17:35:09"
          },
          {
            "id": "17590",
            "user_id": "2",
            "username": "demo04",
            "transid": "509111",
            "amount": "6.23",
            "before_balance": "1110721.91",
            "after_balance": "1110728.14",
            "created_at": "2022-06-01 16:52:34"
          },
          {
            "id": "17589",
            "user_id": "2",
            "username": "demo04",
            "transid": "509110",
            "amount": "6.23",
            "before_balance": "1110715.68",
            "after_balance": "1110721.91",
            "created_at": "2022-06-01 16:13:52"
          },
          {
            "id": "17588",
            "user_id": "2",
            "username": "demo04",
            "transid": "509109",
            "amount": "6.23",
            "before_balance": "1110709.45",
            "after_balance": "1110715.68",
            "created_at": "2022-06-01 15:52:29"
          },
          {
            "id": "17587",
            "user_id": "2",
            "username": "demo04",
            "transid": "509108",
            "amount": "6",
            "before_balance": "1110703.45",
            "after_balance": "1110709.45",
            "created_at": "2022-06-01 15:47:56"
          },
          {
            "id": "17586",
            "user_id": "2",
            "username": "demo04",
            "transid": "509107",
            "amount": "6",
            "before_balance": "1110697.45",
            "after_balance": "1110703.45",
            "created_at": "2022-06-01 15:46:27"
          },
          {
            "id": "17585",
            "user_id": "2",
            "username": "demo04",
            "transid": "509106",
            "amount": "6",
            "before_balance": "1110691.45",
            "after_balance": "1110697.45",
            "created_at": "2022-06-01 15:31:46"
          },
          {
            "id": "17584",
            "user_id": "2",
            "username": "demo04",
            "transid": "509105",
            "amount": "6",
            "before_balance": "1110685.45",
            "after_balance": "1110691.45",
            "created_at": "2022-06-01 15:30:51"
          },
          {
            "id": "17583",
            "user_id": "2",
            "username": "demo04",
            "transid": "509104",
            "amount": "6",
            "before_balance": "1110679.45",
            "after_balance": "1110685.45",
            "created_at": "2022-06-01 15:30:09"
          }
      ],
      "key": "17583"
    }
}
```

### Sample Error Response 错误响应例子

```json
{
  "error": {
    "status_code": 2,
    "message": "Invalid Host ID",
    "retry": null
  }
}
```

<!--
type: tab
title: Try It 尝试
-->
**Staging Environment 测试环境**
<br>

```json http
{
  "method": "get",
  "url": "https://bo-stage.velachip.com/api/user/player-rebate-transaction",
  "query": {
    "host_id": "{host_id}",
    "member_id": "{member_id}"
  }
}
```

<!-- type: tab-end -->

## Player Rebate Balance 玩家返利余额

This API is used to get player rebate wallet balance. Operator needs to implement this API for rebate purposes. <b>此 API 用于获取玩家返利余额。第三方需要实施此API以使用此功能。</b>

<!--
type: tab
title: Docs 文件
-->

### Request 请求

| Name 名称      | Type 类型   | Description 介绍                                                                          |
| -------------- | ------ | ----------------------------------------------------------------------------------- |
| host_id        | string | Unique ID of Operator System (provided by game provider) <b>第三方的 Host ID (游戏供应商提供)</b>                                |
| member_id      | string(optional) | Unique ID of the player <b>玩家唯一ID</b>      |
| key            | int(optional) | Unique database index number <b>数据库索引号</b>      |
| page_size      | int(optional) | Number of records. Maximum 500 <b>记录的数量. 最大值500</b>      |

> If key is empty, it will return data from index zero (0). <b>如果没有提供数据库索引号，供数据库索引号将会被视为初始值为 0。</b>

> If page_size is empty, default return 10 records. <b>如果没有提供page_size,默认返回10个记录。</b>

> ##### Example 例子
>
> https://{OPERATOR_API_ENDPOINT}/api/user/player-rebate-balance?host_id={host_id}&member_id={member_id}&key={key}&page_size={page_size}

### Response 响应

| Name 名称         | Type 类型 | Description  介绍        |
| ----------------- | -------- | -------------------- |
| status_code       |  int     | Response status code<b>响应状态代码</b> |
| report            |  array   | A list of player rebate wallet<b>玩家返利钱包列表</b>        |

#### Status Code 状态代码

| Code 代码 | Description 介绍           |
| ---- | ---------------------- |
| 0    | Success <b>成功</b>          |
| 1    | Invalid Member ID <b>玩家账号无效</b>          |
| 2    | Invalid Host ID <b>Host ID 无效</b>          |

<!--
type: tab
title: Examples 例子 
-->

### Sample Success Response 成功响应例子

```json
{
    "data": {
      "status_code": 0,
      "key": "26",
      "report": [
        {
          "id": "21",
          "member_id": "test004",
          "rebate_balance": "82.2598"
        },
        {
          "id": "25",
          "member_id": "test012",
          "rebate_balance": "86.195"
        },
        {
          "id": "26",
          "member_id": "ibet06",
          "rebate_balance": "21.908"
        }
      ]
    }
}
```

### Sample Error Response 错误响应例子

```json
{
  "error": {
    "status_code": 2,
    "message": "Invalid Host ID",
    "retry": null
  }
}
```

<!--
type: tab
title: Try It 尝试
-->
**Staging Environment 测试环境**
<br>

```json http
{
  "method": "get",
  "url": "https://bo-stage.velachip.com/api/user/player-rebate-balance",
  "query": {
    "host_id": "{host_id}",
    "member_id": "{member_id}",
    "key": "{key}",
    "page_size": "{page_size}"
  }
}
```

<!-- type: tab-end -->
